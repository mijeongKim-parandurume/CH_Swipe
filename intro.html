<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>천상열차분야지도 - Intro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            background-color: #0b0d18;
            font-family: 'Noto Serif KR', serif;
            color: #e6d9b1;
            overflow: hidden;
            position: relative;
        }

        /* Starfield Canvas */
        #starfield {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Content Container */
        .content {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* Text Lines */
        .intro-line {
            font-size: clamp(1.2rem, 3.5vw, 2rem);
            font-weight: 300;
            line-height: 1.8;
            text-align: center;
            opacity: 0;
            position: absolute;
            max-width: 90%;
            letter-spacing: 0.05em;
            text-shadow: 0 0 20px rgba(230, 217, 177, 0.3);
        }

        .intro-line.emphasis {
            font-weight: 600;
            font-size: clamp(1.4rem, 4vw, 2.4rem);
            letter-spacing: 0.1em;
        }

        /* Final Button */
        .start-button {
            opacity: 0;
            padding: 18px 45px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            font-family: 'Noto Serif KR', serif;
            font-weight: 400;
            color: #0b0d18;
            background: linear-gradient(135deg, #e6d9b1 0%, #d4c49a 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 40px rgba(230, 217, 177, 0.3);
            letter-spacing: 0.1em;
            text-decoration: none;
            display: inline-block;
            position: absolute;
            pointer-events: none;
        }

        .start-button.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 50px rgba(230, 217, 177, 0.5);
            background: linear-gradient(135deg, #f0e3c1 0%, #e6d9b1 100%);
        }

        .start-button:active {
            transform: translateY(-1px);
        }

        /* Responsive Typography */
        @media (max-width: 768px) {
            .intro-line {
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Starfield Background -->
    <canvas id="starfield"></canvas>

    <!-- Content -->
    <div class="content">
        <div class="intro-line" data-line="1">하늘은 언제나 그 자리에 있었다.</div>
        <div class="intro-line" data-line="2">그러나, 누군가는 그 안에서 질서를 보았다.</div>
        <div class="intro-line" data-line="3">조선의 학자들은 그 질서를 돌 위에 새겼다.</div>
        <div class="intro-line" data-line="4">별 1,465개, 하늘의 모든 움직임을 기록하며.</div>
        <div class="intro-line emphasis" data-line="5">그것이 바로 〈천상열차분야지도〉.</div>
        <div class="intro-line" data-line="6">단지 별의 지도가 아니라, 하늘과 인간을 잇는 첫 번째 기록이었다.</div>
        <div class="intro-line" data-line="7">그리고 지금, 우리는 다시 그 하늘을 펼치려 한다.</div>
        <div class="intro-line" data-line="8">600년 전의 하늘이, 지금 우리의 기술로 다시 빛난다.</div>

        <a href="main.html" class="start-button" id="startButton">별을 이어보기 ▶</a>
    </div>

    <script>
        // ===== Starfield Animation =====
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Star particles
        const stars = [];
        const starCount = 150;

        class Star {
            constructor() {
                this.reset();
                this.y = Math.random() * canvas.height;
                this.opacity = Math.random();
            }

            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 0.5;
                this.speedY = Math.random() * 0.3 + 0.1;
                this.opacity = Math.random();
                this.fadeSpeed = (Math.random() * 0.01 + 0.005) * (Math.random() > 0.5 ? 1 : -1);
            }

            update() {
                this.y += this.speedY;
                this.opacity += this.fadeSpeed;

                if (this.opacity <= 0 || this.opacity >= 1) {
                    this.fadeSpeed *= -1;
                }

                if (this.y > canvas.height) {
                    this.y = 0;
                    this.x = Math.random() * canvas.width;
                }
            }

            draw() {
                ctx.fillStyle = `rgba(230, 217, 177, ${this.opacity * 0.6})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // Initialize stars
        for (let i = 0; i < starCount; i++) {
            stars.push(new Star());
        }

        // Animation loop
        function animateStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            stars.forEach(star => {
                star.update();
                star.draw();
            });

            requestAnimationFrame(animateStars);
        }
        animateStars();

        // ===== Text Animation =====
        const lines = document.querySelectorAll('.intro-line');
        const button = document.getElementById('startButton');

        // Timing configuration
        const FADE_IN = 1000;      // 1s
        const VISIBLE = 2000;      // 2s
        const FADE_OUT = 500;      // 0.5s
        const CYCLE = FADE_IN + VISIBLE + FADE_OUT;

        function animateLine(element, delay) {
            setTimeout(() => {
                // Fade in
                element.style.transition = `opacity ${FADE_IN}ms ease-in`;
                element.style.opacity = '1';

                // Fade out
                setTimeout(() => {
                    element.style.transition = `opacity ${FADE_OUT}ms ease-out`;
                    element.style.opacity = '0';
                }, FADE_IN + VISIBLE);
            }, delay);
        }

        // Animate all lines sequentially
        lines.forEach((line, index) => {
            animateLine(line, index * CYCLE);
        });

        // Show button after all lines are done
        const totalDuration = lines.length * CYCLE + 500;
        setTimeout(() => {
            button.style.transition = 'opacity 1s ease-in';
            button.classList.add('visible');
        }, totalDuration);
    </script>
</body>
</html>